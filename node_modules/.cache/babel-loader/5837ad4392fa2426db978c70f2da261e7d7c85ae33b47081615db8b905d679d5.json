{"ast":null,"code":"import auth from \"./authentication.js\";\nexport async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n  let headers = {};\n  let username = 'cp4ba-admin';\n  let password = 'P@ssw0rd.2022!';\n  if (method === undefined) {\n    method = 'Get';\n  }\n  if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n    headers['Content-Type'] = 'application/json';\n  }\n  if (isAuthorized) {\n    headers['Authorization'] = 'Basic ' + Buffer.from(username + \":\" + password).toString('base64');\n  }\n  let options = {\n    headers,\n    method\n  };\n  if (body !== undefined) {\n    options.body = JSON.stringify(body);\n  }\n  let response = await fetch(url, options);\n  if (!response.ok) {\n    let message = await response.text();\n    throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n  }\n  let result = undefined;\n  if (!skipResult) {\n    result = await response.json();\n  }\n  return result;\n}","map":{"version":3,"names":["auth","jsonRequest","url","method","body","isAuthorized","skipResult","headers","username","password","undefined","includes","toLowerCase","Buffer","from","toString","options","JSON","stringify","response","fetch","ok","message","text","Error","status","statusText","result","json"],"sources":["C:/Users/AnatoliDimitrov/Projects/bawreact/src/services/http.js"],"sourcesContent":["import auth from \"./authentication.js\";\n\nexport async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n    let headers = {};\n    let username = 'cp4ba-admin';\n    let password = 'P@ssw0rd.2022!';\n\n    if (method === undefined) {\n        method = 'Get';\n    }\n\n    if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n        headers['Content-Type'] = 'application/json';\n    }\n\n    if (isAuthorized) {\n        headers['Authorization'] = 'Basic ' + Buffer.from(username + \":\" + password).toString('base64');\n    }\n\n    let options = {\n        headers,\n        method\n    };\n\n    if (body !== undefined) {\n        options.body = JSON.stringify(body);\n    }\n\n    let response = await fetch(url, options);\n\n    if (!response.ok) {\n        let message = await response.text();\n        throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n    }\n\n    let result = undefined;\n    if (!skipResult) {\n        result = await response.json();\n    }\n\n    return result;\n}"],"mappings":"AAAA,OAAOA,IAAI,MAAM,qBAAqB;AAEtC,OAAO,eAAeC,WAAW,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,YAAY,EAAEC,UAAU,EAAE;EAC3E,IAAIC,OAAO,GAAG,CAAC,CAAC;EAChB,IAAIC,QAAQ,GAAG,aAAa;EAC5B,IAAIC,QAAQ,GAAG,gBAAgB;EAE/B,IAAIN,MAAM,KAAKO,SAAS,EAAE;IACtBP,MAAM,GAAG,KAAK;EAClB;EAEA,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAACQ,QAAQ,CAACR,MAAM,CAACS,WAAW,EAAE,CAAC,EAAE;IACnEL,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAChD;EAEA,IAAIF,YAAY,EAAE;IACdE,OAAO,CAAC,eAAe,CAAC,GAAG,QAAQ,GAAGM,MAAM,CAACC,IAAI,CAACN,QAAQ,GAAG,GAAG,GAAGC,QAAQ,CAAC,CAACM,QAAQ,CAAC,QAAQ,CAAC;EACnG;EAEA,IAAIC,OAAO,GAAG;IACVT,OAAO;IACPJ;EACJ,CAAC;EAED,IAAIC,IAAI,KAAKM,SAAS,EAAE;IACpBM,OAAO,CAACZ,IAAI,GAAGa,IAAI,CAACC,SAAS,CAACd,IAAI,CAAC;EACvC;EAEA,IAAIe,QAAQ,GAAG,MAAMC,KAAK,CAAClB,GAAG,EAAEc,OAAO,CAAC;EAExC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;IACd,IAAIC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IACnC,MAAM,IAAIC,KAAK,CAAE,GAAEL,QAAQ,CAACM,MAAO,KAAIN,QAAQ,CAACO,UAAW,KAAIJ,OAAQ,EAAC,CAAC;EAC7E;EAEA,IAAIK,MAAM,GAAGjB,SAAS;EACtB,IAAI,CAACJ,UAAU,EAAE;IACbqB,MAAM,GAAG,MAAMR,QAAQ,CAACS,IAAI,EAAE;EAClC;EAEA,OAAOD,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}