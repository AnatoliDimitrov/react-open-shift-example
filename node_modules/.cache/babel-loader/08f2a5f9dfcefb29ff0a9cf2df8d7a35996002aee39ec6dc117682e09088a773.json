{"ast":null,"code":"export async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n  let headers = {};\n  if (method === undefined) {\n    method = 'Get';\n  }\n  if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n    headers['Content-Type'] = 'application/json';\n  }\n  if (isAuthorized) {}\n  let options = {\n    headers,\n    method\n    //mode: 'no-cors'\n  };\n\n  if (body !== undefined) {\n    options.body = JSON.stringify(body);\n  }\n  let response = await fetch(url, options);\n  if (!response.ok) {\n    let message = await response.text();\n    throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n  }\n  let result = undefined;\n  if (!skipResult) {\n    result = await response.json();\n  }\n  return result;\n}","map":{"version":3,"names":["jsonRequest","url","method","body","isAuthorized","skipResult","headers","undefined","includes","toLowerCase","options","JSON","stringify","response","fetch","ok","message","text","Error","status","statusText","result","json"],"sources":["C:/Users/AnatoliDimitrov/Projects/bawreact/src/services/http.js"],"sourcesContent":["export async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n    let headers = {};\n\n    if (method === undefined) {\n        method = 'Get';\n    }\n\n    if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n        headers['Content-Type'] = 'application/json';\n    }\n\n    if (isAuthorized) {\n        \n    }\n\n    let options = {\n        headers,\n        method,\n        //mode: 'no-cors'\n    };\n\n    if (body !== undefined) {\n        options.body = JSON.stringify(body);\n    }\n\n    let response = await fetch(url, options);\n\n    if (!response.ok) {\n        let message = await response.text();\n        throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n    }\n\n    let result = undefined;\n    if (!skipResult) {\n        result = await response.json();\n    }\n\n    return result;\n}"],"mappings":"AAAA,OAAO,eAAeA,WAAW,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,YAAY,EAAEC,UAAU,EAAE;EAC3E,IAAIC,OAAO,GAAG,CAAC,CAAC;EAEhB,IAAIJ,MAAM,KAAKK,SAAS,EAAE;IACtBL,MAAM,GAAG,KAAK;EAClB;EAEA,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAACM,QAAQ,CAACN,MAAM,CAACO,WAAW,EAAE,CAAC,EAAE;IACnEH,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAChD;EAEA,IAAIF,YAAY,EAAE,CAElB;EAEA,IAAIM,OAAO,GAAG;IACVJ,OAAO;IACPJ;IACA;EACJ,CAAC;;EAED,IAAIC,IAAI,KAAKI,SAAS,EAAE;IACpBG,OAAO,CAACP,IAAI,GAAGQ,IAAI,CAACC,SAAS,CAACT,IAAI,CAAC;EACvC;EAEA,IAAIU,QAAQ,GAAG,MAAMC,KAAK,CAACb,GAAG,EAAES,OAAO,CAAC;EAExC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;IACd,IAAIC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IACnC,MAAM,IAAIC,KAAK,CAAE,GAAEL,QAAQ,CAACM,MAAO,KAAIN,QAAQ,CAACO,UAAW,KAAIJ,OAAQ,EAAC,CAAC;EAC7E;EAEA,IAAIK,MAAM,GAAGd,SAAS;EACtB,IAAI,CAACF,UAAU,EAAE;IACbgB,MAAM,GAAG,MAAMR,QAAQ,CAACS,IAAI,EAAE;EAClC;EAEA,OAAOD,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}