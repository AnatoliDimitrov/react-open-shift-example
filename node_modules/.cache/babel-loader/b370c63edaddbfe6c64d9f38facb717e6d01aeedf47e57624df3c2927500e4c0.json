{"ast":null,"code":"export async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n  let headers = {};\n  let username = 'cp4ba-admin';\n  let password = 'P@ssw0rd.2022!';\n  if (method === undefined) {\n    method = 'Get';\n  }\n  if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n    headers['Content-Type'] = 'application/json';\n  }\n  if (isAuthorized) {\n    headers['Authorization'] = 'Basic Y3A0YmEtYWRtaW46UEBzc3cwcmQuMjAyMiE='; //`Basic ${window.btoa('cp4ba-admin:P@ssw0rd.2022!')}`;\n  }\n\n  let options = {\n    headers,\n    method,\n    mode: 'no-cors'\n  };\n  console.log(options);\n  if (body !== undefined) {\n    options.body = JSON.stringify(body);\n  }\n  let response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Authorization': 'Basic Y3A0YmEtYWRtaW46UEBzc3cwcmQuMjAyMiE=',\n      'Content-Type': 'application/json'\n    },\n    mode: 'no-cors'\n  });\n  console.log(response);\n  if (!response.ok) {\n    let message = await response.text();\n    throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n  }\n  let result = undefined;\n  if (!skipResult) {\n    result = await response.json();\n  }\n  return result;\n}","map":{"version":3,"names":["jsonRequest","url","method","body","isAuthorized","skipResult","headers","username","password","undefined","includes","toLowerCase","options","mode","console","log","JSON","stringify","response","fetch","ok","message","text","Error","status","statusText","result","json"],"sources":["C:/Users/AnatoliDimitrov/Projects/bawreact/src/services/http.js"],"sourcesContent":["export async function jsonRequest(url, method, body, isAuthorized, skipResult) {\n    let headers = {};\n    let username = 'cp4ba-admin';\n    let password = 'P@ssw0rd.2022!';\n\n    if (method === undefined) {\n        method = 'Get';\n    }\n\n    if (['post', 'put', 'patch', 'delete'].includes(method.toLowerCase())) {\n        headers['Content-Type'] = 'application/json';\n    }\n\n    if (isAuthorized) {\n        headers['Authorization'] = 'Basic Y3A0YmEtYWRtaW46UEBzc3cwcmQuMjAyMiE=';//`Basic ${window.btoa('cp4ba-admin:P@ssw0rd.2022!')}`;\n    }\n\n    let options = {\n        headers,\n        method,\n        mode: 'no-cors'\n    };\n\n    console.log(options);\n\n    if (body !== undefined) {\n        options.body = JSON.stringify(body);\n    }\n\n    let response = await fetch(url, { \n        method: 'POST', \n        headers: {\n            'Authorization': 'Basic Y3A0YmEtYWRtaW46UEBzc3cwcmQuMjAyMiE=', \n            'Content-Type': 'application/json'\n        },\n        mode: 'no-cors',\n    });\n\n    console.log(response);\n\n    if (!response.ok) {\n        let message = await response.text();\n        throw new Error(`${response.status}: ${response.statusText}\\n${message}`);\n    }\n\n    let result = undefined;\n    if (!skipResult) {\n        result = await response.json();\n    }\n\n    return result;\n}"],"mappings":"AAAA,OAAO,eAAeA,WAAW,CAACC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,YAAY,EAAEC,UAAU,EAAE;EAC3E,IAAIC,OAAO,GAAG,CAAC,CAAC;EAChB,IAAIC,QAAQ,GAAG,aAAa;EAC5B,IAAIC,QAAQ,GAAG,gBAAgB;EAE/B,IAAIN,MAAM,KAAKO,SAAS,EAAE;IACtBP,MAAM,GAAG,KAAK;EAClB;EAEA,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAACQ,QAAQ,CAACR,MAAM,CAACS,WAAW,EAAE,CAAC,EAAE;IACnEL,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAChD;EAEA,IAAIF,YAAY,EAAE;IACdE,OAAO,CAAC,eAAe,CAAC,GAAG,4CAA4C,CAAC;EAC5E;;EAEA,IAAIM,OAAO,GAAG;IACVN,OAAO;IACPJ,MAAM;IACNW,IAAI,EAAE;EACV,CAAC;EAEDC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;EAEpB,IAAIT,IAAI,KAAKM,SAAS,EAAE;IACpBG,OAAO,CAACT,IAAI,GAAGa,IAAI,CAACC,SAAS,CAACd,IAAI,CAAC;EACvC;EAEA,IAAIe,QAAQ,GAAG,MAAMC,KAAK,CAAClB,GAAG,EAAE;IAC5BC,MAAM,EAAE,MAAM;IACdI,OAAO,EAAE;MACL,eAAe,EAAE,4CAA4C;MAC7D,cAAc,EAAE;IACpB,CAAC;IACDO,IAAI,EAAE;EACV,CAAC,CAAC;EAEFC,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;EAErB,IAAI,CAACA,QAAQ,CAACE,EAAE,EAAE;IACd,IAAIC,OAAO,GAAG,MAAMH,QAAQ,CAACI,IAAI,EAAE;IACnC,MAAM,IAAIC,KAAK,CAAE,GAAEL,QAAQ,CAACM,MAAO,KAAIN,QAAQ,CAACO,UAAW,KAAIJ,OAAQ,EAAC,CAAC;EAC7E;EAEA,IAAIK,MAAM,GAAGjB,SAAS;EACtB,IAAI,CAACJ,UAAU,EAAE;IACbqB,MAAM,GAAG,MAAMR,QAAQ,CAACS,IAAI,EAAE;EAClC;EAEA,OAAOD,MAAM;AACjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}